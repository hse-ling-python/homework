## Домашнее задание 2. Часть 1.

**Тема: Морфология**

**Дедлайн: четверт 10.10.19 23:59**

**Важное: работы принимаются строго в ipynb (не скрипт, не скрипт в ячейке ipynb) + проверка на PEP-8 в начале**

**Данные**

Каждый выберет себе свою книгу, которая есть в (условно) открытом доступе на [http://lib.ru/](http://lib.ru/) - это и следующее задания будут на материале выбранного текста. Давайте брать не рассказы, а большое произведение (книга) - так будет интереснее.

**Задание**

Обработать текст книги с помощью морфологического анализатора, сделать поверхностный анализ.

Пункты:

1. Выбрать и сохранить книгу в .txt
2. Обработать книгу с помощью mystem:
    
    - распарсить с помощью mystem
    - замерить время работы
    - сохранить результат в json
    
3. Обработать книгу через pymorphy
    
    - токенизировать текст с помощью nltk
    - разобрать слова с помощью pymorphy
    - замерить время работы
    - сохраните результат (хотя бы лемма + часть речи) в json
    - \* (не на оценку) придумать, как сохранить весь разбор в .tag в json

4. Ответить на вопросы:
    
    - Какую долю слов составляет каждая часть речи? (Например, для глагола - это количество глаголов, деленное на общее число слов в тексте)
    - Найдите топ-20 (по частотности) глаголов и наречий
    - (стоп слова можно убирать, можно и не убирать)

5. Посмотрите документацию для nltk н-грамм (nltk.bigrams, например), попробуйте составить топ-25 биграмм и триграмм для вашего текста в лемматизированном виде (только леммы, без знаков препинания). Почему получаются именно такие?


**Подсказка №1**. Используйте PEP-8 проверку из первого конспекта. В первой ячейке должно быть вот это (выполнить в первую очередь):
```python
%load_ext pycodestyle_magic
%pycodestyle_on
```
И вам нужно следить за тем, что выводится при работе дальше в красных предупреждениях (например, отступы/пробелы и тд)

**Подсказка №2**. Используйте ``%%timeit`` или ``%%time`` для замеров времени (**в этот раз именно time**). Для этого в начале ячейки, где находится то, что вы хотите замерить, напишите ``%%time``. Например:

```python
%%time

analysis = m.analyze('Вот так можно замерить время')
```

**Подсказка №3**. Сохранить в JSON - это подготовить объект питоновский (список словарей или что-то подобное), положить в переменную, а ее отправить в json.dump вместе с файлом, куда вы это сохраните (именно dump, а не dumps). Подробнее см. конспект по JSON.

**Подсказка №4**. Если у вас не импортируется nltk, попробуйте установить заново, рестартнуть тетрадку, если не работает, то спросите в чате.

**Подсказка №5.1 не работает майстем**. Если у вас создается объект ```Mystem()```, но ячейка "зависает", то:

1. запустите разбор на одном предложении в тетрадке
2. запустите майстем через консоль

Если все ок, то попробуйте еще раз и подождите (может быть, минут 15, если после этого нет результата, то лучше написать нам)

**Подсказка №5.2: совсем не работает майстем**. Если у вас не работает майстем (невозможно сделать m = Mystem()).

Попробуйте сделать так:

```python
import platform
print(platform.architecture())

import sys
print(sys.platform)
```

Если это покажет что-то похожее на windows и 32, то у вас 32-битная версия системы и последняя (дефолтная версия) у вас не будет работать. Попробуйте скачать с сайта версию 3.0, где написано 32 и запустить код еще раз. Если и это не работает, то так (путь - это где лежит exe-файл майстема):

```python
import os
os.environ["MYSTEM_BIN"] = "D:\\mystem.exe"

m = Mystem()
```
или так
```python
m = Mystem(mystem_bin="D:\\mystem.exe")
```


Если у вас есть вопросы, задавайте в чате или пишите преподавателям

### Критерии оценки
 
**Это задание - часть единого ДЗ-2. За текущее задание будет 4 балла, еще 6 баллов будет весить следующее**
 
С этого раза является обязательным оформление домашней работы в jupyter notebook с комментариями и по PEP-8
 
<table>
    <tr><th>Балл</th><th>Критерий</th></tr>
    <tr><td>по 1</td><td>По одному баллу за решение каждого из пунктов 2-5 (с комментарием)</td></tr>    
</table>

Ссылки на GiHub Classroom (появятся позже)
